# Spring Security 소셜 로그인 기능 구현하기

---

## **🚀 기능 요구 사항**

> **사용자가 서비스를 빠르게 이용할 수 있도록, 소셜 로그인 기능을 구현하는 과제입니다.**
>
- Spring Security를 사용하여, 백엔드에서 소셜 로그인을 구현한다. 아래 중 1개의 플랫폼을 선택한다.
    - 카카오
    - 네이버
    - 구글

### 소셜 로그인 과정

1. 소셜 로그인 성공 시, 신규 유저라면 아래 3가지를 저장하여 자동으로 회원가입을 진행한다.

    1) name (이름)

    2) provider (플랫폼 명)
       - 만일 인증 서버에서 provider를 넘겨 주지 않는다면, 직접 지정해서 저장한다. (ex. naver, kakao)

    3) providerId (플랫폼 제공 고유 ID)

2. 유저의 정보가 담긴 액세스 토큰 & 리프레쉬 토큰을 발급한다.
    - JWT 토큰 형태로 구현한다.
    - 유저를 식별할 수 있는 고유 ID는 토큰에 필수적으로 포함되어야 한다.
    - 액세스 토큰은 1시간, 리프레쉬 토큰은 14일의 유효 기간을 둔다.
3. 리프레쉬 토큰을 후에 다시 꺼내 확인할 수 있도록 저장한다.
    - Redis, MySQL 등 DB의 종류에는 제한이 없다.
4. 프론트엔드 측에서 액세스 & 리프레쉬 토큰을 받을 수 있도록 리다이렉트 한다.
    - URI 형태는 http://localhost:5173/… 으로 지정한다.
    - 만약 가능하다면 보안성을 고려하여 토큰을 쿠키에 담아 관리한다. (구현하지 않아도 무방합니다.)

### 온보딩 과정

1. 소셜 로그인 이후 바로 진행되는 과정이므로, 프론트엔드에서 로그인 성공 시 해당 유저의 온보딩 여부를 알 수 있도록 서비스를 구현해야 한다.
2. 유저 온보딩 정보가 없다면, 온보딩 API를 제공하여 아래의 정보를 입력 받아 저장한다. (* 유저 온보딩 테이블을 새롭게 생성해 유저 테이블과 매핑한다.)

    1) 닉네임 (서비스에서 사용할 이름)

    2) 나이

    3) 직업


### 마이페이지

1. 온보딩까지 마친 유저에 한해서, 마이페이지 기능을 제공한다.
2. 마이페이지에서는 온보딩 과정에서 저장한 닉네임, 나이, 직업을 조회 & 수정할 수 있는 API를 제공한다.

### 액세스 토큰 재발행

1. 리프레쉬 토큰을 사용해서, 액세스 토큰을 재발행 할 수 있는 API를 제공한다.
2. 토큰 탈취 시나리오에 대해서 고려하며 보안성을 높일 수 있도록 한다.
    1. ex) 리프레쉬 토큰도, 액세스 토큰 재발행 시 함께 재발행
    2. 참고 글 : https://mgyo.tistory.com/832

---

## **📮 과제 진행 및 제출 방법**

- 해당 레포지토리를 `fork` 하여 개발을 진행합니다.
- **과제 기한은 7월 21일 ~ 7월 28일입니다.**
- 과제를 진행하며 구현한 **API들은 문서화**해서 확인할 수 있어야 합니다.
- 미션 구현을 완료한 후, **main 브랜치에 Pull Request를 진행합니다.**
    - PR을 먼저 진행하고, Commit을 해도 무방합니다.
    - PR 제목은 `큐시즘 30기 백엔드 파트 전환 과제 OOO (이름)` 으로 작성하여 제출합니다.
- **평가 시에는 과제 마감 기한까지 제출한 커밋까지만 평가합니다.**

---

## **🎯 프로그래밍 요구 사항**

- Java 17 버전을 기준으로 진행합니다.
- build.gradle 의존성 설정은 자유롭게 진행합니다.